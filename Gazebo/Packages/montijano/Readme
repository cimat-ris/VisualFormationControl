Este paquete utiliza el control de formacion presentado en Vision-based Distributed Formation Control without an External Positioning System el cual permite alcanzar una formacion utilizando la homografía obtenida entre pares de drones. Cambiar el home en el código

1. Primero, se ejecuta el archivo launch para lanzar a los 3 drones, se abrira gazebo con mundo con la textura que se ocupa
		
		roslaunch rotors_gazebo multiple_hummingbird_nodes.launch

2. Enseguida se puede utiliza el nodo de placing para acomodar cada dron en una posicion que se desee indicando el nombre del dron (hummingbird1, hummingbird2 o hummingbird3):

		rosrun placing placing hummingbird0 -1 0 3 1.54
		rosrun placing placing hummingbird1 0 1 3 0.5
		rosrun placing placing hummingbird2 1 0 3 0

3. Ahora, se ejecuta una herramienta para ver lo que se ve en la camara del dron,

		rosrun rqt_image_view rqt_image_view 

	En una lista desplegable de la ventana que se abrió, se seleciona hummingbirdX/camera_nadir/image_raw, eso es lo que ve ahora el dron X donde la X puede ser 1, 2 o 3.

4. Se modifica la ruta que lee el laplaciano. Vamos a la linea 121 del archivo montijano.cpp y cambiamos mi worksapce por el suyo. También, por default busca tener una formacion en linea
así que si se desea la formacion en circulo, se modifica el parametro de la funcion initDesiredPoses de la linea 184, por un 1. Se guardan cambios y se compila el paquete: catkin build

5. Se ejecuta el controlador.

		roslaunch montijano three_node.launch

	En la ventana de rqt_image_view se seleciona /matching, nos muestra el matcheo de las características detectadas conforme el dron se mueve. Al final ambas imagenes mostradas deben ser casi iguales. 

También se puede ver el movimiento del dron directamente en gazebo. Para cerrar rqt_image_view se utiliza Ctrl+C. Para volver a ejecutar el nodo homography, vuelva a ejecutar el paso 2 y 5.

Este algoritmo es muy sensible a la primera descomposición de homografía, por lo que a veces se puede ir muy lejos xD.

Si aparece un error en la libreria de OpenCV, lo más probable es que no se tenga bien indicada la ubicación de la misma en el CMakeList.txt del paquete homography. La dirección está indicada en la línea 10 y se tendría que cambiar por la ubicación correcta de su instalación, en cuyo caso no debe de estar muy lejos de la instalación especificada. 



